<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
  <meta charset="UTF-8">
  <title th:text="${title}">JerÃ³nimo Producciones</title>


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
<div class="d-flex">
  <!-- Sidebar -->
  <nav class="sidebar bg-dark text-white p-3 vh-100" style="width: 250px;">
    <h4 class="text-center mb-4">ðŸ“‹ MenÃº</h4>
    <ul class="nav flex-column">

      <!-- Productos -->
      <li class="nav-item mb-1">
        <a class="nav-link text-white" data-bs-toggle="collapse" href="#productosSubmenu" role="button">
          <i class="fas fa-box"></i> Productos
        </a>
        <div class="collapse ps-3" id="productosSubmenu">
          <a class="nav-link text-white" th:href="@{/ventas/productos/nuevo}">âž• Agregar Producto</a>
          <a class="nav-link text-white" th:href="@{/ventas/productos}">ðŸ“‹ Lista de Productos</a>
        </div>
      </li>

      <!-- Clientes -->
      <li class="nav-item mb-1">
        <a class="nav-link text-white" data-bs-toggle="collapse" href="#clientesSubmenu" role="button">
          <i class="fas fa-users"></i> Clientes
        </a>
        <div class="collapse ps-3" id="clientesSubmenu">
          <a class="nav-link text-white" th:href="@{/clientes/nuevo}">âž• Agregar Cliente</a>
          <a class="nav-link text-white" th:href="@{/clientes}">ðŸ“‹ Lista de Clientes</a>
        </div>
      </li>

      <!-- Facturas -->
      <li class="nav-item mb-1">
        <a class="nav-link text-white" data-bs-toggle="collapse" href="#facturasSubmenu" role="button">
          <i class="fas fa-file-invoice"></i> Facturas
        </a>
        <div class="collapse ps-3" id="facturasSubmenu">
          <a class="nav-link text-white" th:href="@{/ventas/facturas/nueva}">âž• Nueva Factura</a>
          <a class="nav-link text-white" th:href="@{/ventas/facturas}">ðŸ“‹ Lista de Facturas</a>
        </div>
      </li>

      <!-- Stock -->
      <li class="nav-item mb-2">
        <a class="nav-link text-white" th:href="@{/ventas/stock}"><i class="fas fa-warehouse"></i> Stock</a>
      </li>

      <!-- Usuarios (solo visible para ADMIN) -->
      <li class="nav-item mb-1" th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
        <a class="nav-link text-white" data-bs-toggle="collapse" href="#usuariosSubmenu" role="button">
          <i class="fas fa-user"></i> Usuarios
        </a>
        <div class="collapse ps-3" id="usuariosSubmenu">
          <a class="nav-link text-white" th:href="@{/usuarios/nuevo}">ðŸ‘¤ Registrar Usuario</a>
          <a class="nav-link text-white" th:href="@{/usuarios/lista}">ðŸ“‹ Lista de Usuarios</a>
        </div>
      </li>


      <!-- Logout -->

      <form th:action="@{/logout}" method="post" style="display:inline;">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button class="nav-link btn btn-link text-danger p-0 m-0" type="submit" style="border: none;">
          <i class="fas fa-sign-out-alt"></i> Cerrar sesiÃ³n
        </button>
      </form>

    </ul>
  </nav>

  <!-- Contenido principal -->
  <main class="p-4 flex-grow-1" th:insert="${content}">
    <!-- AquÃ­ se insertarÃ¡ el contenido de cada vista -->
  </main>
</div>

<!-- Bootstrap JS (para menÃºs desplegables) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

